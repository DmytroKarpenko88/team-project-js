!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7e4;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired7e4=i),i.register("cZ2Ha",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}})),i("kgw3z");var o=i("1VFfL");i("kgw3z");var s=document.querySelector("#pagination"),c=new(e(o))(s,{totalItems:2e4,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}),r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if(null==e)return{};var n,a,i=d.default(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i};var l,d=(l=i("cZ2Ha"))&&l.__esModule?l:{default:l};var u=i("kgw3z");var v=document.querySelector(".movie-switcher__button.active").dataset.period||"day";function p(e){var t=e.map((function(e){return function(e){var t=e.id,n=e.poster,a=e.title,i=e.genres,o=e.release,s=e.vote_average,c=n||"https://dummyimage.com/395x574/000/fff.jpg&text=no+poster",r=i.slice(0,2);i.length>2&&r.push("Others");var l,d=o||null;return'<li class="gallery__item">\n             <a class="gallery__link" href="#" data-modal-open data-id="'.concat(t,'">\n              <img class="gallery__image" src="').concat(c,'" alt="').concat(a,' movie poster" loading="lazy">\n             <div class="info">\n              <h3 class="info__item">').concat(a,'</h3>\n               <div class="info-detail">\n                <p class="info-detail__item">').concat(r.join(", "),'</p>\n   <p class="info-detail__item">').concat(d,'\n  <span class="film-rating film-rating--').concat((l=s,l>=8?"green":l>6?"orange":"red"),'">\n    ').concat(Number(s).toFixed(1),"</span></p>\n               </div>\n             </div>\n            </a>\n           </li>")}(e)}));document.querySelector(".gallery").innerHTML=t.join("")}function m(t){var n={};t.forEach((function(t){var a=t.id,i=e(r)(t,["id"]);n[a]=i})),localStorage.setItem("listMovies",JSON.stringify(n))}u.serviceApi.getListMovies(v).then((function(e){m(e.listMovies),p(e.listMovies)})).catch((function(e){return console.log(e)})),c.on("afterMove",(function(e){var t=e.page;u.serviceApi.getListMovies(v,t).then((function(e){m(e.listMovies),p(e.listMovies)})).catch((function(e){return console.log(e)})),window.scrollTo(0,0)}));var f=document.querySelector("[data-modal]"),g=document.querySelector(".gallery"),h=document.querySelector("[data-modal-close]"),y=document.querySelector("body"),w=document.querySelector(".modal"),b="watchedMovies",L="listQueue",M=null;function _(){f.classList.add("is-hidden"),window.removeEventListener("keydown",S),y.style.overflow="auto"}function S(e){"Escape"===e.code&&_()}function k(e,t){return e in JSON.parse(localStorage.getItem(t))}function T(e,t){var n="null";switch(t){case b:n=k(e,b)?"remove from Watched":"add to Watched";break;case L:n=k(e,L)?"remove from queue":"add to queue"}return n}function E(e,t){if(e){var n,a=document.querySelector("[".concat(e,"]")),i=a.closest(".content-modal").dataset.id,o=null!==(n=JSON.parse(localStorage.getItem(t)))&&void 0!==n?n:{};i in o?delete o[i]:o[i]=M,localStorage.setItem(t,JSON.stringify(o)),a.textContent=T(i,t)}}g.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest("[data-modal-open]");t&&(f.classList.remove("is-hidden"),window.addEventListener("keydown",S),y.style.overflow="hidden",function(e){M=JSON.parse(localStorage.getItem("listMovies"))[e],localStorage.getItem(b)||localStorage.setItem(b,JSON.stringify({})),localStorage.getItem(L)||localStorage.setItem(L,JSON.stringify({}));var t=M.poster,n=M.title,a=M.vote_average,i=M.vote_count,o=M.popularity,s=M.original_title,c=M.genres,r=M.overview,l=document.querySelector(".modal-content-container");l&&(l.innerHTML='\n      <div class="modal-photo-container">\n        <picture>\n          <img src="'.concat(t,'" width="" class="statistick-img" alt="" />\n        </picture>\n      </div>\n      <div class="content-modal" data-id=\'').concat(e,'\'>\n        <h2 class="modal-title">').concat(n,'</h2>\n        <div class="statistic-container">\n           <ul class="list">\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Vote / Votes</p>\n                  <p><span class="statistic-vote">').concat(a,'</span>/<span class="statistic-votes">').concat(i,'</span></p>\n                </div>\n              </li>\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Popularity</p>\n                  <p>').concat(o,'</p>\n                </div>\n              </li>\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Original Title</p>\n                  <p>').concat(s,'</p>\n                </div>\n              </li>\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Genre</p>\n                  <p>').concat(c.join(", "),'</p>\n                </div>\n              </li>\n            </ul>\n        </div>\n        <h3 class="content-modal-title">About</h3>\n        <p class="content-modal">').concat(r,'</p>\n        <div class="modal-btn-container">\n          <button class="modal-btn btn-add-watched" data-btn-watch>').concat(T(e,b),'</button>\n          <button class="modal-btn btn-add-queue" data-btn-queue>').concat(T(e,L),"</button>\n        </div>\n      </div>\n    "))}(t.dataset.id))})),h.addEventListener("click",_),f.addEventListener("click",(function(e){e.currentTarget===e.target&&_()})),w.addEventListener("click",(function(e){var t=e.target;t.closest("[data-btn-watch]")&&E("data-btn-watch",b);t.closest("[data-btn-queue]")&&E("data-btn-queue",L)}));var q=document.querySelector(".loader");window.addEventListener("load",(function(){q.classList.add("done")})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#toTop");window.addEventListener("scroll",(function(){window.pageYOffset>100?e.classList.add("show"):e.classList.remove("show")})),e.onclick=function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}}));var x,O=i("bpxeT"),A=i("2TvXO"),I=(u=i("kgw3z"),document.querySelector("#search-form"));document.querySelector("#pagination");function j(e){return N.apply(this,arguments)}function N(){return(N=e(O)(e(A).mark((function t(n){var a;return e(A).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),x=n.target.searchQuery.value.trim()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,u.serviceApi.searchMovie(x);case 6:a=e.sent,console.log(a),m(a.listMovies),p(a.listMovies),c.reset(a.total_pages),c.on("afterMove",(function(e){var t=e.page;j?u.serviceApi.searchMovie(x,t).then((function(e){return p(e.listMovies)})):u.serviceApi.getListMovies("week",t).then((function(e){return p(e.listMovies)})),window.scrollTo(0,0)}));case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}I.addEventListener("submit",j);O=i("bpxeT"),A=i("2TvXO"),u=i("kgw3z");var B=document.querySelector("#dayBtn"),C=document.querySelector("#weekBtn");function H(){return(H=e(O)(e(A).mark((function t(){return e(A).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"day",e.next=3,u.serviceApi.getListMovies("day");case 3:p(e.sent.listMovies);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}B.addEventListener("click",e(O)(e(A).mark((function t(){var n,a;return e(A).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.classList.add("active"),C.classList.remove("active"),C.innerText="This Week",n="day",e.next=6,u.serviceApi.getListMovies(n);case 6:m((a=e.sent).listMovies),p(a.listMovies),c.reset(a.total_pages),c.on("afterMove",(function(e){var t=e.page;u.serviceApi.getListMovies(n,t).then((function(e){m(e.listMovies),p(e.listMovies)})).catch((function(e){return console.log(e)})),window.scrollTo(0,0)}));case 11:case"end":return e.stop()}}),t)})))),C.addEventListener("click",e(O)(e(A).mark((function t(){var n,a;return e(A).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.classList.add("active"),B.classList.remove("active"),B.innerText="Today",n="week",e.next=6,u.serviceApi.getListMovies(n);case 6:m((a=e.sent).listMovies),p(a.listMovies),c.reset(a.total_pages),c.on("afterMove",(function(e){var t=e.page;u.serviceApi.getListMovies(n,t).then((function(e){m(e.listMovies),p(e.listMovies)})).catch((function(e){return console.log(e)})),window.scrollTo(0,0)}));case 11:case"end":return e.stop()}}),t)})))),function(){H.apply(this,arguments)}();var P=document.querySelector("#theme-switch-toggle"),J="light-theme",z="dark-theme";function D(){document.body.classList.toggle(z),document.body.classList.toggle(J),document.body.classList.contains(J)?(P.setAttribute("checked",!1),localStorage.setItem("active-theme",J)):document.body.classList.contains(z)&&(P.setAttribute("checked",!0),localStorage.setItem("active-theme",z))}document.body.classList.add(J),P.addEventListener("change",D),localStorage.getItem("active-theme")===z&&D();var F=document.querySelector(".loading");function V(){F.classList.add("loading--hiden")}function W(){F.style.display="none"}window.onload=function(){setTimeout(V,500),setTimeout(W,2e3)};var G=document.createElement("ul"),Q=document.createElement("h2");modalBackdrop.firstElementChild.innerHTML="",G.innerHTML="",Q.innerHTML="",Q.classList.add("team__modal-title"),Q.insertAdjacentHTML("beforeend","GoIT team 5"),modalBackdrop.firstElementChild.insertAdjacentElement("beforeend",Q),modalBackdrop.firstElementChild.insertAdjacentElement("beforeend",G),modalBackdrop.firstElementChild.insertAdjacentHTML("beforeend",'\n<button class="modal__btn-close btn__close-modal">\n      <svg\n\n      </svg>\n    </button>\n'),G.classList.add("team__modal-list"),team.map((function(e){var t='<li class="team__modal-item">\n\t\t<img src="'.concat(e.img,'" class="team__modal-pic">\n\t\t<h2 class="team__modal-member">').concat(e.name,'</h2>\n    <p class="team__modal-role">').concat(e.role,'</p>\n\t\t<div>\n\t\t<a href="').concat(e.social,'" target="_blank" class="team__modal-link">\n        <svg class="icon-github"></svg>\n        </a>\n\t\t</div>\n\t\t</li>');modalTeamList.insertAdjacentHTML("beforeend",t)})),openModal(),modalBackdrop.firstElementChild.classList.add("team-modal"),modalBackdrop.firstElementChild.classList.remove("modal-open")}();
//# sourceMappingURL=index.0efcd0d1.js.map
