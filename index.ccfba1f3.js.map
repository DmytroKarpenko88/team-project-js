{"mappings":"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","sources":["src/index.js","src/js/services/search-by-keyword.js","src/js/events/filter.js","src/js/events/themeSwitcher.js","src/js/team.js"],"sourcesContent":["import './js/services/service-api';\nimport './js/pagination';\nimport './js/events/renderGalleryCard';\n\nimport './js/modal/modal';\n\nimport './js/loader';\n\nimport './js/events/scrollUp';\n\nimport './js/services/search-by-keyword';\nimport './js/events/filter';\nimport './js/events/themeSwitcher';\nimport './js/events/preloader';\nimport './js/team';\n","import { serviceApi } from './service-api';\nimport {\n  renderListMovies,\n  setFilmsToLocalStorage,\n} from '../events/renderGalleryCard';\nimport { pagination } from '../pagination';\n// import { loader }\n\nconst searchForm = document.querySelector('#search-form');\n\nsearchForm.addEventListener('submit', onSearchByKeyword);\n\nlet query;\n\nasync function onSearchByKeyword(e) {\n  e.preventDefault();\n\n  query = e.target.searchQuery.value.trim();\n  if (!query) {\n    return;\n  }\n\n  const res = await serviceApi.searchMovie(query);\n  console.log(res);\n  setFilmsToLocalStorage(res.listMovies);\n  renderListMovies(res['listMovies']);\n\n  pagination.reset(res.total_pages);\n  pagination.off();\n  // pagination.setTotalItems(res.total_results);\n  pagination.on('afterMove', event => {\n    const currentPage = event.page;\n    \n      serviceApi.searchMovie(query, currentPage).then(res => {\n        if(res.page > res.totalPages) {\n          alert(`Sorry, this is last page ${res.totalPages}`)\n          return\n        }\n        return renderListMovies(res['listMovies']);\n      });\n     \n    window.scrollTo(0, 0);\n  });\n return totalItems = res.total_results;\n  // функція, яка буде показувати лоадер\n}\n","import { serviceApi } from '../services/service-api';\nimport { pagination } from '../pagination';\nimport {\n  renderListMovies,\n  setFilmsToLocalStorage,\n} from '../events/renderGalleryCard';\n\n\n\nasync function onPagination(period) {\n  const movies = await serviceApi.getListMovies(period);\n \n  setFilmsToLocalStorage(movies.listMovies);\n  renderListMovies(movies.listMovies);\n\n  // pagination.setTotalItem(movies.total_results)\n  // pagination.movePageTo(movies.page);\n  pagination.reset(movies.total_pages);\n  pagination.off();\n  pagination.on('afterMove', (event) => {\n    const currentPage = event.page;\n    serviceApi\n  .getListMovies(period, currentPage)\n  .then(res => {\n    setFilmsToLocalStorage(res.listMovies);\n    renderListMovies(res.listMovies);\n  })\n  .catch(error => console.log(error));\n   window.scrollTo(0, 0)\n  });\n};\n\nconst dayBtn = document.querySelector('#dayBtn');\nconst weekBtn = document.querySelector('#weekBtn');\n\ndayBtn.addEventListener('click', function onClickDay() {\n  dayBtn.classList.add('active');\n  weekBtn.classList.remove('active');\n  weekBtn.innerText = 'This Week';\n \n  // Get movies for selected period and render them\n  const period = 'day';\n  if(weekBtn.addEventListener) {\n    weekBtn.removeEventListener('click', function onClickWeek() {})\n  }\n  onPagination(period)  \n});\n\n\nweekBtn.addEventListener('click', function onClickWeek() {\n  weekBtn.classList.add('active');\n  dayBtn.classList.remove('active');\n  dayBtn.innerText = 'Today';\n \n  // Get movies for selected period and render them\n  const period = 'week';\n  if(dayBtn.addEventListener) {\n    dayBtn.removeEventListener('click', function onClickDay() {})\n  }\n  onPagination(period);  \n});\n\n\n// Render initial movies\nasync function initialize() {\n  // Render initial movies\n  const initialPeriod = 'day';\n  onPagination(initialPeriod); \n}\n\ninitialize();\n","const checkbox = document.querySelector('#theme-switch-toggle');\n\nconst Theme = {\n  LIGHT: 'light-theme',\n  DARK: 'dark-theme',\n};\n\ndocument.body.classList.add(Theme.LIGHT);\n\ncheckbox.addEventListener('change', onCheckboxChange);\n\nfunction onCheckboxChange() {\n  document.body.classList.toggle(Theme.DARK);\n  document.body.classList.toggle(Theme.LIGHT);\n\n  setThemeInfoToLocalStorage();\n}\n\nfunction setThemeInfoToLocalStorage() {\n  if (document.body.classList.contains(Theme.LIGHT)) {\n    checkbox.setAttribute('checked', false);\n    localStorage.setItem('active-theme', Theme.LIGHT);\n  } else if (document.body.classList.contains(Theme.DARK)) {\n    checkbox.setAttribute('checked', true);\n    localStorage.setItem('active-theme', Theme.DARK);\n  }\n}\n\ngetThemeInfoFromLocalStorage();\n\nfunction getThemeInfoFromLocalStorage() {\n  if (localStorage.getItem('active-theme') === Theme.DARK) {\n    onCheckboxChange();\n  }\n}\n","const modalCloseBtn = `\n<button class=\"modal__btn-close btn__close-modal\">\n      <svg\n\n      </svg>\n    </button>\n`;\n\nconst teamListModal = document.createElement('ul');\nconst teamTitle = document.createElement('h2');\n\nfunction onModalTeam(e) {\n  e.preventDefault();\n}\n\nrenderTeamModal();\nopenModal();\nmodalBackdrop.firstElementChild.classList.add('team-modal');\nmodalBackdrop.firstElementChild.classList.remove('modal-open');\n\nfunction renderTeamModal() {\n  modalBackdrop.firstElementChild.innerHTML = '';\n  teamListModal.innerHTML = '';\n  teamTitle.innerHTML = '';\n  teamTitle.classList.add('team__modal-title');\n  teamTitle.insertAdjacentHTML('beforeend', 'GoIT team 5');\n  modalBackdrop.firstElementChild.insertAdjacentElement('beforeend', teamTitle);\n\n  modalBackdrop.firstElementChild.insertAdjacentElement(\n    'beforeend',\n    teamListModal\n  );\n  modalBackdrop.firstElementChild.insertAdjacentHTML(\n    'beforeend',\n    modalCloseBtn\n  );\n  teamListModal.classList.add('team__modal-list');\n  team.map(member => {\n    const markup = `<li class=\"team__modal-item\">\n\t\t<img src=\"${member.img}\" class=\"team__modal-pic\">\n\t\t<h2 class=\"team__modal-member\">${member.name}</h2>\n    <p class=\"team__modal-role\">${member.role}</p>\n\t\t<div>\n\t\t<a href=\"${member.social}\" target=\"_blank\" class=\"team__modal-link\">\n        <svg class=\"icon-github\"></svg>\n        </a>\n\t\t</div>\n\t\t</li>`;\n    modalTeamList.insertAdjacentHTML('beforeend', markup);\n  });\n}\n"],"names":["parcelRequire","$gwtqX","$e565a97a09c20d4b$var$query","document","querySelector","addEventListener","async","e","preventDefault","target","searchQuery","value","trim","res1","serviceApi","searchMovie","console","log","$axbZj","setFilmsToLocalStorage","listMovies","renderListMovies","$2nhTy","pagination","reset","total_pages","off","on","event","currentPage","page","then","res","totalPages","alert","window","scrollTo","totalItems","total_results","$a6eab0b6ae671a56$var$onPagination","period","movies","getListMovies","catch","error","$a6eab0b6ae671a56$var$dayBtn","$a6eab0b6ae671a56$var$weekBtn","classList","add","remove","innerText","removeEventListener","$a6eab0b6ae671a56$var$initialize","$7a9c6fbbe83c8a59$var$checkbox","$7a9c6fbbe83c8a59$var$Theme","$7a9c6fbbe83c8a59$var$onCheckboxChange","body","toggle","contains","setAttribute","localStorage","setItem","getItem","$2858ae8b5229c42d$var$teamListModal","createElement","$2858ae8b5229c42d$var$teamTitle","modalBackdrop","firstElementChild","innerHTML","insertAdjacentHTML","insertAdjacentElement","team","map","member","markup","img","name","role","social","modalTeamList","openModal"],"version":3,"file":"index.ccfba1f3.js.map"}