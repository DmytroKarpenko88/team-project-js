function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=t.parcelRequired7e4;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7e4=s),s("gwtqX");var i=s("fb9GJ");const o=document.querySelector("#pagination"),l=new(e(i))(o,{totalItems:2e4,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}});function c(e){const t=e.map((e=>function(e){const{id:t,poster:n,title:a,genres:s,release:i,vote_average:o}=e,l=n||"https://dummyimage.com/395x574/000/fff.jpg&text=no+poster",c=s.slice(0,2);s.length>2&&c.push("Others");const r=i||null;return`<li class="gallery__item">\n             <a class="gallery__link" href="#" data-modal-open data-id="${t}">\n              <img class="gallery__image" src="${l}" alt="${a} movie poster" loading="lazy">\n             <div class="info">\n              <h3 class="info__item">${a}</h3>\n               <div class="info-detail">\n                <p class="info-detail__item">${c.join(", ")}</p>\n   <p class="info-detail__item">${r}\n  <span class="film-rating film-rating--${d=o,d>=8?"green":d>6?"orange":"red"}">\n    ${Number(o).toFixed(1)}</span></p>\n               </div>\n             </div>\n            </a>\n           </li>`;var d}(e)));document.querySelector(".gallery").innerHTML=t.join("")}function r(e){const t={};e.forEach((e=>{const{id:n,...a}=e;t[n]=a})),localStorage.setItem("listMovies",JSON.stringify(t))}s("gwtqX");const d=document.querySelector("[data-modal]"),u=document.querySelector(".gallery"),m=document.querySelector("[data-modal-close]"),p=document.querySelector("body"),v=document.querySelector(".modal");let g=null;function f(){d.classList.add("is-hidden"),window.removeEventListener("keydown",h),p.style.overflow="auto"}function h(e){"Escape"===e.code&&f()}function y(e,t){return e in JSON.parse(localStorage.getItem(t))}function b(e,t){let n="null";switch(t){case"watchedMovies":n=y(e,"watchedMovies")?"remove from Watched":"add to Watched";break;case"listQueue":n=y(e,"listQueue")?"remove from queue":"add to queue"}return n}function w(e,t){if(!e)return;const n=document.querySelector(`[${e}]`),a=n.closest(".content-modal").dataset.id,s=JSON.parse(localStorage.getItem(t))??{};a in s?delete s[a]:s[a]=g,localStorage.setItem(t,JSON.stringify(s)),n.textContent=b(a,t)}u.addEventListener("click",(function(e){e.preventDefault();const t=e.target.closest("[data-modal-open]");t&&(d.classList.remove("is-hidden"),window.addEventListener("keydown",h),p.style.overflow="hidden",function(e){g=JSON.parse(localStorage.getItem("listMovies"))[e],localStorage.getItem("watchedMovies")||localStorage.setItem("watchedMovies",JSON.stringify({})),localStorage.getItem("listQueue")||localStorage.setItem("listQueue",JSON.stringify({}));const{poster:t,title:n,vote_average:a,vote_count:s,popularity:i,original_title:o,genres:l,overview:c}=g,r=document.querySelector(".modal-content-container");r&&(r.innerHTML=`\n      <div class="modal-photo-container">\n        <picture>\n          <img src="${t}" width="" class="statistick-img" alt="" />\n        </picture>\n      </div>\n      <div class="content-modal" data-id='${e}'>\n        <h2 class="modal-title">${n}</h2>\n        <div class="statistic-container">\n           <ul class="list">\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Vote / Votes</p>\n                  <p><span class="statistic-vote">${a}</span>/<span class="statistic-votes">${s}</span></p>\n                </div>\n              </li>\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Popularity</p>\n                  <p>${i}</p>\n                </div>\n              </li>\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Original Title</p>\n                  <p>${o}</p>\n                </div>\n              </li>\n              <li>\n                <div class="statistic-wraper">\n                  <p class="first-item-statistic">Genre</p>\n                  <p>${l.join(", ")}</p>\n                </div>\n              </li>\n            </ul>\n        </div>\n        <h3 class="content-modal-title">About</h3>\n        <p class="content-modal">${c}</p>\n        <div class="modal-btn-container">\n          <button class="modal-btn btn-add-watched" data-btn-watch>${b(e,"watchedMovies")}</button>\n          <button class="modal-btn btn-add-queue" data-btn-queue>${b(e,"listQueue")}</button>\n        </div>\n      </div>\n    `)}(t.dataset.id))})),m.addEventListener("click",f),d.addEventListener("click",(function(e){e.currentTarget===e.target&&f()})),v.addEventListener("click",(function(e){const t=e.target;t.closest("[data-btn-watch]")&&w("data-btn-watch","watchedMovies");t.closest("[data-btn-queue]")&&w("data-btn-queue","listQueue")}));const L=document.querySelector(".loader");window.addEventListener("load",(()=>{L.classList.add("done")})),s("ivttf");var _=s("gwtqX");let S;document.querySelector("#search-form").addEventListener("submit",(async function(e){if(e.preventDefault(),S=e.target.searchQuery.value.trim(),!S)return;const t=await _.serviceApi.searchMovie(S);return console.log(t),r(t.listMovies),c(t.listMovies),l.reset(t.total_pages),l.off(),l.on("afterMove",(e=>{const t=e.page;_.serviceApi.searchMovie(S,t).then((e=>{if(!(e.page>e.totalPages))return c(e.listMovies);alert(`Sorry, this is last page ${e.totalPages}`)})),window.scrollTo(0,0)})),totalItems=t.total_results}));_=s("gwtqX");async function M(e){const t=await _.serviceApi.getListMovies(e);r(t.listMovies),c(t.listMovies),l.reset(t.total_pages),l.off(),l.on("afterMove",(t=>{const n=t.page;_.serviceApi.getListMovies(e,n).then((e=>{r(e.listMovies),c(e.listMovies)})).catch((e=>console.log(e))),window.scrollTo(0,0)}))}const E=document.querySelector("#dayBtn"),k=document.querySelector("#weekBtn");E.addEventListener("click",(function(){E.classList.add("active"),k.classList.remove("active"),k.innerText="This Week";k.addEventListener&&k.removeEventListener("click",(function(){})),M("day")})),k.addEventListener("click",(function(){k.classList.add("active"),E.classList.remove("active"),E.innerText="Today";E.addEventListener&&E.removeEventListener("click",(function(){})),M("week")})),async function(){M("day")}();const q=document.querySelector("#theme-switch-toggle"),$="light-theme",T="dark-theme";function I(){document.body.classList.toggle(T),document.body.classList.toggle($),document.body.classList.contains($)?(q.setAttribute("checked",!1),localStorage.setItem("active-theme",$)):document.body.classList.contains(T)&&(q.setAttribute("checked",!0),localStorage.setItem("active-theme",T))}document.body.classList.add($),q.addEventListener("change",I),localStorage.getItem("active-theme")===T&&I();const A=document.querySelector(".loading");function N(){A.classList.add("loading--hiden")}function O(){A.style.display="none"}window.onload=function(){setTimeout(N,500),setTimeout(O,2e3)};const x=document.createElement("ul"),B=document.createElement("h2");modalBackdrop.firstElementChild.innerHTML="",x.innerHTML="",B.innerHTML="",B.classList.add("team__modal-title"),B.insertAdjacentHTML("beforeend","GoIT team 5"),modalBackdrop.firstElementChild.insertAdjacentElement("beforeend",B),modalBackdrop.firstElementChild.insertAdjacentElement("beforeend",x),modalBackdrop.firstElementChild.insertAdjacentHTML("beforeend",'\n<button class="modal__btn-close btn__close-modal">\n      <svg\n\n      </svg>\n    </button>\n'),x.classList.add("team__modal-list"),team.map((e=>{const t=`<li class="team__modal-item">\n\t\t<img src="${e.img}" class="team__modal-pic">\n\t\t<h2 class="team__modal-member">${e.name}</h2>\n    <p class="team__modal-role">${e.role}</p>\n\t\t<div>\n\t\t<a href="${e.social}" target="_blank" class="team__modal-link">\n        <svg class="icon-github"></svg>\n        </a>\n\t\t</div>\n\t\t</li>`;modalTeamList.insertAdjacentHTML("beforeend",t)})),openModal(),modalBackdrop.firstElementChild.classList.add("team-modal"),modalBackdrop.firstElementChild.classList.remove("modal-open");
//# sourceMappingURL=index.99490f8f.js.map
