function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},n={},a=t.parcelRequired7e4;null==a&&((a=function(e){if(e in s)return s[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return s[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7e4=a),a("gwtqX");var o=a("fb9GJ"),i=a("gwtqX");i=a("gwtqX");const l=document.querySelector(".movie-switcher__button.active").dataset.period||"day";function c(e){const t=e.map((e=>function(e){const{id:t,poster:s,title:n,genres:a,release:o,vote_average:i}=e,l=s||"https://dummyimage.com/395x574/000/fff.jpg&text=no+poster",c=a.slice(0,2);a.length>2&&c.push("Others");const d=o||null;return`<li class="gallery__item">\n             <a class="gallery__link" href="#" data-modal-open data-id="${t}">\n              <img class="gallery__image" src="${l}" alt="${n} movie poster" loading="lazy">\n             <div class="info">\n              <h3 class="info__item">${n}</h3>\n               <div class="info-detail">\n                <p class="info-detail__item">${c.join(", ")}</p>\n  <p class="info-detail__item">${d}<span class="info-detail__rating">&#9733;</span><span class="film-rating">${i?.toFixed(1)}</span></p>\n               </div>\n             </div>\n            </a>\n           </li>`}(e)));document.querySelector(".gallery").innerHTML=t.join("")}function d(e){const t={};e.forEach((e=>{const{id:s,...n}=e;t[s]=n})),localStorage.setItem("listMovies",JSON.stringify(t))}i.serviceApi.getListMovies(l).then((e=>{d(e.listMovies),c(e.listMovies)})).catch((e=>console.log(e)));const r=document.querySelector("#pagination");console.log();const u=new(e(o))(r,{totalItems:2e4,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}});u.on("afterMove",(e=>{const t=e.page;i.serviceApi.getListMovies("week",t).then((e=>c(e.listMovies))).catch((e=>console.log(e))),window.scrollTo(0,0)}));const m=document.querySelector("[data-modal]"),v=document.querySelector(".gallery"),g=document.querySelector("[data-modal-close]"),p=document.querySelector("body"),f=document.querySelector(".modal");let h=null;function y(){m.classList.add("is-hidden"),window.removeEventListener("keydown",b),p.style.overflow="auto"}function b(e){"Escape"===e.code&&y()}function w(e,t){return e in JSON.parse(localStorage.getItem(t))}function L(e,t){let s="null";switch(t){case"watchedMovies":s=w(e,"watchedMovies")?"remove from Watched":"add to Watched";break;case"listQueue":s=w(e,"listQueue")?"remove from queue":"add to queue"}return s}function _(e,t){if(!e)return;console.log(e);const s=document.querySelector(`[${e}]`),n=s.closest(".content-modal").dataset.id,a=JSON.parse(localStorage.getItem(t))??{};n in a?delete a[n]:a[n]=h,localStorage.setItem(t,JSON.stringify(a)),console.log(s),s.textContent=L(n,t)}v.addEventListener("click",(function(e){e.preventDefault();const t=e.target.closest("[data-modal-open]");t&&(m.classList.remove("is-hidden"),window.addEventListener("keydown",b),p.style.overflow="hidden",function(e){h=JSON.parse(localStorage.getItem("listMovies"))[e],localStorage.getItem("watchedMovies")||localStorage.setItem("watchedMovies",JSON.stringify({})),localStorage.getItem("listQueue")||localStorage.setItem("listQueue",JSON.stringify({}));const{poster:t,title:s,vote_average:n,vote_count:a,popularity:o,original_title:i,genres:l,overview:c}=h,d=document.querySelector(".modal-content-container");d&&(d.innerHTML=`\n      <div class="modal-photo-container">\n        <picture>\n          <img src="${t}" width="" class="statistick-img" alt="" />\n        </picture>\n      </div>\n      <div class="content-modal" data-id='${e}'>\n        <h2 class="modal-title">${s}</h2>\n        <div class="statistic-container">\n          <ul class="list">\n            <li class="statistics-name">Vote / Votes</li>\n            <li class="statistics-name">Popularity</li>\n            <li class="statistics-name">Original Title</li>\n            <li class="statistics-name">Genre</li>\n          </ul>\n          <ul class="list">\n            <li class="statistics-value">\n              <span class="statistic-vote">${n}</span>/<span class="statistic-votes">${a}</span>\n            </li>\n            <li class="statistics-value">${o}</li>\n            <li class="statistics-value">${i}</li>\n            <li class="statistics-value">${l.join(", ")}</li>\n          </ul>\n        </div>\n        <h3 class="content-modal-title">About</h3>\n        <p class="content-modal">${c}</p>\n        <div class="modal-btn-container">\n\x3c!--          <button class="modal-btn btn-add-watched" data-btn-watch>add to Watched</button>--\x3e\n          <button class="modal-btn btn-add-watched" data-btn-watch>${L(e,"watchedMovies")}</button>\n\x3c!--          <button class="modal-btn btn-add-queue" data-btn-queue>add to queue</button>--\x3e\n          <button class="modal-btn btn-add-queue" data-btn-queue>${L(e,"listQueue")}</button>\n        </div>\n      </div>\n    `)}(t.dataset.id))})),g.addEventListener("click",y),m.addEventListener("click",(function(e){e.currentTarget===e.target&&y()})),f.addEventListener("click",(function(e){const t=e.target;t.closest("[data-btn-watch]")&&_("data-btn-watch","watchedMovies");t.closest("[data-btn-queue]")&&_("data-btn-queue","listQueue")}));const M=document.querySelector(".loader");window.addEventListener("load",(()=>{M.classList.add("done")})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector("#toTop");window.addEventListener("scroll",(function(){window.pageYOffset>100?e.classList.add("show"):e.classList.remove("show")})),e.onclick=function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}}));i=a("gwtqX");const S=document.querySelector("#search-form");document.querySelector("#pagination");let q;S.addEventListener("submit",(async function e(t){if(t.preventDefault(),q=t.target.searchQuery.value.trim(),!q)return;const s=await i.serviceApi.searchMovie(q);console.log(s),d(s.listMovies),c(s.listMovies),u.reset(s.total_pages),u.on("afterMove",(t=>{const s=t.page;e?i.serviceApi.searchMovie(q,s).then((e=>c(e.listMovies))):i.serviceApi.getListMovies("week",s).then((e=>c(e.listMovies))),window.scrollTo(0,0)}))}));i=a("gwtqX");const k=document.querySelector("#dayBtn"),E=document.querySelector("#weekBtn");k.addEventListener("click",(async()=>{k.classList.add("active"),E.classList.remove("active"),E.innerText="This Week";const e=await i.serviceApi.getListMovies("day");d(e.listMovies),c(e.listMovies)})),E.addEventListener("click",(async()=>{E.classList.add("active"),k.classList.remove("active"),k.innerText="Today";const e=await i.serviceApi.getListMovies("week");d(e.listMovies),c(e.listMovies)})),async function(){c((await i.serviceApi.getListMovies("day")).listMovies)}();const T=document.querySelector("#theme-switch-toggle"),$="light-theme",A="dark-theme";function I(){document.body.classList.toggle(A),document.body.classList.toggle($),document.body.classList.contains($)?(T.setAttribute("checked",!1),localStorage.setItem("active-theme",$)):document.body.classList.contains(A)&&(T.setAttribute("checked",!0),localStorage.setItem("active-theme",A))}document.body.classList.add($),T.addEventListener("change",I),localStorage.getItem("active-theme")===A&&I();const x=document.querySelector(".loading");function O(){x.classList.add("loading--hiden")}function B(){x.style.display="none"}window.onload=function(){setTimeout(O,1500),setTimeout(B,2e3)};const C=document.createElement("ul"),N=document.createElement("h2");modalBackdrop.firstElementChild.innerHTML="",C.innerHTML="",N.innerHTML="",N.classList.add("team__modal-title"),N.insertAdjacentHTML("beforeend","GoIT team 5"),modalBackdrop.firstElementChild.insertAdjacentElement("beforeend",N),modalBackdrop.firstElementChild.insertAdjacentElement("beforeend",C),modalBackdrop.firstElementChild.insertAdjacentHTML("beforeend",'\n<button class="modal__btn-close btn__close-modal">\n      <svg\n        \n      </svg>\n    </button>\n'),C.classList.add("team__modal-list"),team.map((e=>{const t=`<li class="team__modal-item">\n\t\t<img src="${e.img}" class="team__modal-pic">\n\t\t<h2 class="team__modal-member">${e.name}</h2>\n    <p class="team__modal-role">${e.role}</p>\n\t\t<div>\n\t\t<a href="${e.social}" target="_blank" class="team__modal-link">\n        <svg class="icon-github"></svg>\n        </a>\n\t\t</div>\n\t\t</li>`;modalTeamList.insertAdjacentHTML("beforeend",t)})),openModal(),modalBackdrop.firstElementChild.classList.add("team-modal"),modalBackdrop.firstElementChild.classList.remove("modal-open");
//# sourceMappingURL=index.7ab26b8a.js.map
