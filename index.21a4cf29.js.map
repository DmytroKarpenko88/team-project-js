{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_object_without_properties_loose.js","src/index.js","src/js/pagination.js","node_modules/@swc/helpers/lib/_object_without_properties.js","src/js/events/renderGalleryCard.js","src/js/modal/modal.js","src/js/loader.js","src/js/services/search-by-keyword.js","src/js/events/filter.js","src/js/events/themeSwitcher.js","src/js/events/preloader.js","src/js/team.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectWithoutPropertiesLoose;\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n","import './js/services/service-api';\nimport './js/pagination';\nimport './js/events/renderGalleryCard';\n\nimport './js/modal/modal';\n\nimport './js/loader';\n\nimport './js/events/scrollUp';\n\nimport './js/services/search-by-keyword';\nimport './js/events/filter';\nimport './js/events/themeSwitcher';\nimport './js/events/preloader';\nimport './js/team';\n","import Pagination from 'tui-pagination';\n// import 'tui-pagination/dist/tui-pagination.css';\n\nconst container = document.querySelector('#pagination');\nconst options = {\n  totalItems: 20000,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn current-color tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\n\n\nconst pagination = new Pagination(container, options);\n\nexport {pagination};\n\n\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectWithoutProperties;\nvar _objectWithoutPropertiesLoose = _interopRequireDefault(require(\"./_object_without_properties_loose\"));\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = (0, _objectWithoutPropertiesLoose).default(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { serviceApi } from '../services/service-api';\nimport { pagination } from '../pagination';\nexport function renderCardWithGenres(movie) {\n  const { id, poster, title, genres, release, vote_average } = movie;\n  const posterUrl = poster\n    ? poster\n    : 'https://dummyimage.com/395x574/000/fff.jpg&text=no+poster';\n\n  const genresToShow = genres.slice(0, 2);\n  if (genres.length > 2) {\n    genresToShow.push('Others');\n  }\n  const year = release ? release : null;\n\n  // let year = '';\n  // if (typeof release !== 'undefined' && release.length > 4) {\n  //   year = release.slice(0, 4);\n  // }\n  return `<li class=\"gallery__item\">\n             <a class=\"gallery__link\" href=\"#\" data-modal-open data-id=\"${id}\">\n              <img class=\"gallery__image\" src=\"${posterUrl}\" alt=\"${title} movie poster\" loading=\"lazy\">\n             <div class=\"info\">\n              <h3 class=\"info__item\">${title}</h3>\n               <div class=\"info-detail\">\n                <p class=\"info-detail__item\">${genresToShow.join(', ')}</p>\n   <p class=\"info-detail__item\">${year}\n  <span class=\"film-rating film-rating--${getClassByRate(vote_average)}\">\n    ${Number(vote_average).toFixed(1)}</span></p>\n               </div>\n             </div>\n            </a>\n           </li>`;\n}\n\n// const currentPeriod = document.querySelector('.movie-switcher__button.active').dataset.period ||'day';\n\n// serviceApi\n//   .getListMovies(currentPeriod)\n//   .then(res => {\n//     setFilmsToLocalStorage(res.listMovies);\n//     renderListMovies(res.listMovies);\n//   })\n//   .catch(error => console.log(error));\n\n  // pagination.on('afterMove', (event) => {\n  //   const currentPage = event.page;\n  //   serviceApi\n  // .getListMovies(currentPeriod, currentPage)\n  // .then(res => {\n  //   setFilmsToLocalStorage(res.listMovies);\n  //   renderListMovies(res.listMovies);\n  // })\n  // .catch(error => console.log(error));\n  //  window.scrollTo(0, 0)\n  // });\n\nexport function renderListMovies(list) {\n  const movieCards = list.map(movie => renderCardWithGenres(movie));\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = movieCards.join('');\n}\n\nexport function setFilmsToLocalStorage(list) {\n  const localListMovies = {};\n  list.forEach(item => {\n    const { id, ...props } = item;\n    localListMovies[id] = props;\n  });\n  localStorage.setItem('listMovies', JSON.stringify(localListMovies));\n}\n\nfunction getClassByRate(vote) {\n  if (vote >= 8) {\n    return 'green';\n  } else if (vote > 6) {\n    return 'orange';\n  } else {\n    return 'red';\n  }\n}\n\n// export function renderMoviesCard(movies) {\n//   const movieCards = movies.map(\n//     ({ id, genres, poster, release, title, vote_average }) => {\n//       const posterUrl = `${poster}`;\n//       return `<li class=\"gallery__item\">\n//            <a class=\"gallery__link\" href=\"#\">\n//             <img class=\"gallery__image\" data-id=\"${id}\" src=\"${posterUrl}\" alt=\"${title} movie poster\" loading=\"lazy\">\n//            <div class=\"info\">\n//             <h3 class=\"info__item\">${title}</h3>\n//              <div class=\"info-detail\">\n//               <p class=\"info-detail__item\">${genres.join(', ')}</p>\n//                <p class=\"info-detail__item\">${release} <span class=\"film-rating\">${vote_average?.toFixed(\n//         1\n//       )}</span></p>\n//              </div>\n//            </div>\n//           </a>\n//          </li>`;\n//     }\n//   );\n\n//   const gallery = document.querySelector('.gallery');\n//   gallery.innerHTML = movieCards.join('');\n// }\n\n// export async function renderMoviesCard() {\n//   try {\n//     const { listMovies } = await serviceApi.getListMovies('week');\n//     const movieCards = listMovies.map(\n//       ({ id, genres, poster, release, title, vote_average }) => {\n//         return `<li class=\"gallery__item\">\n//          <a class=\"gallery__link\" href=\"#\">\n//           <img class=\"gallery__image\" data-id=\"${id}\" src=\"${poster}\" alt=\"${title} movie poster\" loading=\"lazy\">\n//          <div class=\"info\">\n//           <h3 class=\"info__item\">${title}</h3>\n//            <div class=\"info-detail\">\n//             <p class=\"info-detail__item\">${genres.join(', ')}</p>\n//              <p class=\"info-detail__item\">${release} <span class=\"film-rating\">${vote_average?.toFixed(\n//           1\n//         )}</span></p>\n//            </div>\n//          </div>\n//         </a>\n//        </li>`;\n//       }\n//     );\n\n//     const gallery = document.querySelector('.gallery');\n//     gallery.innerHTML = movieCards.join('');\n//   } catch (error) {\n//     console.error(error.message);\n//   }\n// }\n\n// renderMoviesCard();\n\n// Функция для получения списка жанров по id\n// async function getGenresByIds(genreIds) {\n//   const keyGenres = JSON.parse(localStorage.getItem('genres'));\n//   // Используем метод map для преобразования каждого id жанра в жанр из localStorage\n//   const genres = genreIds.map(id => keyGenres[id]).filter(genre => genre);\n//   return genres || [];\n// }\n","const backdrop = document.querySelector('[data-modal]')\nconst openButtonModal = document.querySelector('.gallery');\nconst closeButtonModal = document.querySelector('[data-modal-close]')\nconst body = document.querySelector('body');\nconst modal = document.querySelector('.modal');\n\nconst BTN_WATCHED_ADD = 'add to Watched';\nconst BTN_WATCHED_REMOVE = 'remove from Watched';\nconst BTN_QUEUE_ADD = 'add to queue';\nconst BTN_QUEUE_REMOVE = 'remove from queue';\nconst LIST_WATCHED = 'watchedMovies';\nconst LIST_QUEUE = 'listQueue';\n\nlet dataMovie = null;\n\nopenButtonModal.addEventListener('click', onOpenButtonClick)\ncloseButtonModal.addEventListener('click', onCloseButtonClick)\nbackdrop.addEventListener('click', onBackdropClicl)\nmodal.addEventListener('click', handleClickModal);\n\nfunction onOpenButtonClick(e) {\n  e.preventDefault();\n  const currentMovie = e.target.closest('[data-modal-open]');\n\n  if (currentMovie) {\n    backdrop.classList.remove('is-hidden');\n    window.addEventListener('keydown', closeModalByEscape);\n    body.style.overflow = 'hidden';\n    renderPopupBody(currentMovie.dataset.id);\n  }\n}\n\nfunction onCloseButtonClick()  {\n  backdrop.classList.add('is-hidden')\n  window.removeEventListener('keydown', closeModalByEscape)\n  body.style.overflow = 'auto';\n}\n\nfunction onBackdropClicl(event) {\n  if (event.currentTarget === event.target) {\n    onCloseButtonClick()\n  }\n}\n\nfunction closeModalByEscape(event) {\n  const closeButtonEscape = 'Escape'\n  if (event.code === closeButtonEscape) {\n    onCloseButtonClick()\n  }\n}\n\nfunction renderPopupBody(id) {\n  dataMovie = JSON.parse(localStorage.getItem('listMovies'))[id];\n  localStorage.getItem(LIST_WATCHED) || localStorage.setItem(LIST_WATCHED, JSON.stringify({}));\n  localStorage.getItem(LIST_QUEUE) || localStorage.setItem(LIST_QUEUE, JSON.stringify({}));\n\n  const {\n    poster,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    genres,\n    overview,\n  } = dataMovie;\n\n  const container = document.querySelector('.modal-content-container');\n\n  if (container) {\n    container.innerHTML = `\n      <div class=\"modal-photo-container\">\n        <picture>\n          <img src=\"${poster}\" width=\"\" class=\"statistick-img\" alt=\"\" />\n        </picture>\n      </div>\n      <div class=\"content-modal\" data-id='${id}'>\n        <h2 class=\"modal-title\">${title}</h2>\n        <div class=\"statistic-container\">\n           <ul class=\"list\">\n              <li>\n                <div class=\"statistic-wraper\">\n                  <p class=\"first-item-statistic\">Vote / Votes</p>\n                  <p><span class=\"statistic-vote\">${vote_average}</span>/<span class=\"statistic-votes\">${vote_count}</span></p>\n                </div>\n              </li>\n              <li>\n                <div class=\"statistic-wraper\">\n                  <p class=\"first-item-statistic\">Popularity</p>\n                  <p>${popularity}</p>\n                </div>\n              </li>\n              <li>\n                <div class=\"statistic-wraper\">\n                  <p class=\"first-item-statistic\">Original Title</p>\n                  <p>${original_title}</p>\n                </div>\n              </li>\n              <li>\n                <div class=\"statistic-wraper\">\n                  <p class=\"first-item-statistic\">Genre</p>\n                  <p>${genres.join(', ')}</p>\n                </div>\n              </li>\n            </ul>\n        </div>\n        <h3 class=\"content-modal-title\">About</h3>\n        <p class=\"content-modal\">${overview}</p>\n        <div class=\"modal-btn-container\">\n          <button class=\"modal-btn btn-add-watched\" data-btn-watch>${getButtonText(id, LIST_WATCHED)}</button>\n          <button class=\"modal-btn btn-add-queue\" data-btn-queue>${getButtonText(id, LIST_QUEUE)}</button>\n        </div>\n      </div>\n    `;\n  }\n}\n\nfunction handleClickModal(e) {\n  const target = e.target;\n  if (target.closest('[data-btn-watch]')) {\n    toggleStatus('data-btn-watch', LIST_WATCHED);\n  }\n  if (target.closest('[data-btn-queue]')) {\n    toggleStatus('data-btn-queue', LIST_QUEUE);\n  }\n}\n\nfunction isIncluded(idMovie, listLocalStorage) {\n  return idMovie in JSON.parse(localStorage.getItem(listLocalStorage));\n}\n\nfunction getButtonText(id, typeList) {\n  let text = 'null';\n\n  switch (typeList) {\n    case LIST_WATCHED:\n      text = isIncluded(id, LIST_WATCHED) ? BTN_WATCHED_REMOVE : BTN_WATCHED_ADD;\n      break;\n    case LIST_QUEUE:\n      text = isIncluded(id, LIST_QUEUE) ? BTN_QUEUE_REMOVE : BTN_QUEUE_ADD;\n      break;\n  }\n\n  return text;\n}\n\nfunction toggleStatus(dataAttr, typeList) {\n  if (!dataAttr) return;\n  const el = document.querySelector(`[${dataAttr}]`);\n\n  const currentID = el.closest('.content-modal').dataset.id;\n\n  const list = JSON.parse(localStorage.getItem(typeList)) ?? {};\n\n  if (currentID in list) {\n    delete list[currentID];\n  } else {\n    list[currentID] = dataMovie;\n  }\n\n  localStorage.setItem(typeList, JSON.stringify(list));\n\n  el.textContent = getButtonText(currentID, typeList);\n}","const loader = document.querySelector('.loader');\n\nwindow.addEventListener('load', () => {\n    loader.classList.add('done');\n});","import { serviceApi } from './service-api';\nimport {\n  renderListMovies,\n  setFilmsToLocalStorage,\n} from '../events/renderGalleryCard';\nimport { pagination } from '../pagination';\n// import { loader }\n\nconst searchForm = document.querySelector('#search-form');\n\nsearchForm.addEventListener('submit', onSearchByKeyword);\n\nlet query;\n\nasync function onSearchByKeyword(e) {\n  e.preventDefault();\n\n  query = e.target.searchQuery.value.trim();\n  if (!query) {\n    return;\n  }\n\n  const res = await serviceApi.searchMovie(query);\n  console.log(res);\n  setFilmsToLocalStorage(res.listMovies);\n  renderListMovies(res['listMovies']);\n\n  pagination.reset(res.total_pages);\n  pagination.off();\n  // pagination.setTotalItems(res.total_results);\n  pagination.on('afterMove', event => {\n    const currentPage = event.page;\n    \n      serviceApi.searchMovie(query, currentPage).then(res => {\n        if(res.page > res.totalPages) {\n          alert(`Sorry, this is last page ${res.totalPages}`)\n          return\n        }\n        return renderListMovies(res['listMovies']);\n      });\n     \n    window.scrollTo(0, 0);\n  });\n return totalItems = res.total_results;\n  // функція, яка буде показувати лоадер\n}\n","import { serviceApi } from '../services/service-api';\nimport { pagination } from '../pagination';\nimport {\n  renderListMovies,\n  setFilmsToLocalStorage,\n} from '../events/renderGalleryCard';\n\n\n\nasync function onPagination(period) {\n  const movies = await serviceApi.getListMovies(period);\n \n  setFilmsToLocalStorage(movies.listMovies);\n  renderListMovies(movies.listMovies);\n\n  // pagination.setTotalItem(movies.total_results)\n  // pagination.movePageTo(movies.page);\n  pagination.reset(movies.total_pages);\n  pagination.off();\n  pagination.on('afterMove', (event) => {\n    const currentPage = event.page;\n    serviceApi\n  .getListMovies(period, currentPage)\n  .then(res => {\n    setFilmsToLocalStorage(res.listMovies);\n    renderListMovies(res.listMovies);\n  })\n  .catch(error => console.log(error));\n   window.scrollTo(0, 0)\n  });\n};\n\nconst dayBtn = document.querySelector('#dayBtn');\nconst weekBtn = document.querySelector('#weekBtn');\n\ndayBtn.addEventListener('click', function onClickDay() {\n  dayBtn.classList.add('active');\n  weekBtn.classList.remove('active');\n  weekBtn.innerText = 'This Week';\n \n  // Get movies for selected period and render them\n  const period = 'day';\n  if(weekBtn.addEventListener) {\n    weekBtn.removeEventListener('click', function onClickWeek() {})\n  }\n  onPagination(period)  \n});\n\n\nweekBtn.addEventListener('click', function onClickWeek() {\n  weekBtn.classList.add('active');\n  dayBtn.classList.remove('active');\n  dayBtn.innerText = 'Today';\n \n  // Get movies for selected period and render them\n  const period = 'week';\n  if(dayBtn.addEventListener) {\n    dayBtn.removeEventListener('click', function onClickDay() {})\n  }\n  onPagination(period);  \n});\n\n\n// Render initial movies\nasync function initialize() {\n  // Render initial movies\n  const initialPeriod = 'day';\n  onPagination(initialPeriod); \n}\n\ninitialize();\n","const checkbox = document.querySelector('#theme-switch-toggle');\n\nconst Theme = {\n  LIGHT: 'light-theme',\n  DARK: 'dark-theme',\n};\n\ndocument.body.classList.add(Theme.LIGHT);\n\ncheckbox.addEventListener('change', onCheckboxChange);\n\nfunction onCheckboxChange() {\n  document.body.classList.toggle(Theme.DARK);\n  document.body.classList.toggle(Theme.LIGHT);\n\n  setThemeInfoToLocalStorage();\n}\n\nfunction setThemeInfoToLocalStorage() {\n  if (document.body.classList.contains(Theme.LIGHT)) {\n    checkbox.setAttribute('checked', false);\n    localStorage.setItem('active-theme', Theme.LIGHT);\n  } else if (document.body.classList.contains(Theme.DARK)) {\n    checkbox.setAttribute('checked', true);\n    localStorage.setItem('active-theme', Theme.DARK);\n  }\n}\n\ngetThemeInfoFromLocalStorage();\n\nfunction getThemeInfoFromLocalStorage() {\n  if (localStorage.getItem('active-theme') === Theme.DARK) {\n    onCheckboxChange();\n  }\n}\n","const preloader = document.querySelector('.loading');\nfunction preloaderIsHided() {\n  preloader.classList.add('loading--hiden');\n}\nfunction preloaderDisable() {\n  preloader.style.display = 'none';\n}\n\nwindow.onload = function () {\n  setTimeout(preloaderIsHided, 500);\n  setTimeout(preloaderDisable, 2000);\n};\n","const modalCloseBtn = `\n<button class=\"modal__btn-close btn__close-modal\">\n      <svg\n\n      </svg>\n    </button>\n`;\n\nconst teamListModal = document.createElement('ul');\nconst teamTitle = document.createElement('h2');\n\nfunction onModalTeam(e) {\n  e.preventDefault();\n}\n\nrenderTeamModal();\nopenModal();\nmodalBackdrop.firstElementChild.classList.add('team-modal');\nmodalBackdrop.firstElementChild.classList.remove('modal-open');\n\nfunction renderTeamModal() {\n  modalBackdrop.firstElementChild.innerHTML = '';\n  teamListModal.innerHTML = '';\n  teamTitle.innerHTML = '';\n  teamTitle.classList.add('team__modal-title');\n  teamTitle.insertAdjacentHTML('beforeend', 'GoIT team 5');\n  modalBackdrop.firstElementChild.insertAdjacentElement('beforeend', teamTitle);\n\n  modalBackdrop.firstElementChild.insertAdjacentElement(\n    'beforeend',\n    teamListModal\n  );\n  modalBackdrop.firstElementChild.insertAdjacentHTML(\n    'beforeend',\n    modalCloseBtn\n  );\n  teamListModal.classList.add('team__modal-list');\n  team.map(member => {\n    const markup = `<li class=\"team__modal-item\">\n\t\t<img src=\"${member.img}\" class=\"team__modal-pic\">\n\t\t<h2 class=\"team__modal-member\">${member.name}</h2>\n    <p class=\"team__modal-role\">${member.role}</p>\n\t\t<div>\n\t\t<a href=\"${member.social}\" target=\"_blank\" class=\"team__modal-link\">\n        <svg class=\"icon-github\"></svg>\n        </a>\n\t\t</div>\n\t\t</li>`;\n    modalTeamList.insertAdjacentHTML('beforeend', markup);\n  });\n}\n"],"names":["Object","defineProperty","module","exports","value","default","source","excluded","key","i","target","sourceKeys","keys","length","indexOf","parcelRequire","$1VFfL","$dfaf77c789ce7a24$var$container","document","querySelector","$dfaf77c789ce7a24$export$22fa394f3ba39578","$parcel$interopDefault","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$e96aa47b0d11c8c0$exports","$e96aa47b0d11c8c0$var$_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","obj","__esModule","$9f5fc82944a0a359$export$2748887abc8deea0","list","movieCards","map","movie","id","poster","title","genres","release","vote_average","posterUrl","genresToShow","slice","push","vote","year","concat","join","Number","toFixed","$9f5fc82944a0a359$export$bf5e8f8f83e1d784","innerHTML","$9f5fc82944a0a359$export$2216c845f89689b6","localListMovies","forEach","item","props","localStorage","setItem","JSON","stringify","$874399bd1f21ebb6$var$backdrop","$874399bd1f21ebb6$var$openButtonModal","$874399bd1f21ebb6$var$closeButtonModal","$874399bd1f21ebb6$var$body","$874399bd1f21ebb6$var$modal","$874399bd1f21ebb6$var$LIST_WATCHED","$874399bd1f21ebb6$var$LIST_QUEUE","$874399bd1f21ebb6$var$dataMovie","$874399bd1f21ebb6$var$onCloseButtonClick","classList","add","window","removeEventListener","$874399bd1f21ebb6$var$closeModalByEscape","style","overflow","event","code","$874399bd1f21ebb6$var$isIncluded","idMovie","listLocalStorage","parse","getItem","$874399bd1f21ebb6$var$getButtonText","typeList","text","$874399bd1f21ebb6$var$toggleStatus","dataAttr","ref","el","currentID","closest","dataset","textContent","addEventListener","e","preventDefault","currentMovie","remove","vote_count","popularity","original_title","overview","container","$874399bd1f21ebb6$var$renderPopupBody","currentTarget","$03da642c15b09e5e$var$loader","$2495d29c1833b2d9$var$query","$bpxeT","$2495d29c1833b2d9$var$_onSearchByKeyword","$2TvXO","mark","_callee","res1","searchQuery","trim","$kgw3z","serviceApi","searchMovie","_ctx","sent","console","log","listMovies","reset","total_pages","off","on","then","res","totalPages","alert","scrollTo","total_results","apply","this","arguments","$5e3f236f349b897e$var$onPagination","period","$5e3f236f349b897e$var$_onPagination","movies","getListMovies","catch","error","$5e3f236f349b897e$var$dayBtn","$5e3f236f349b897e$var$weekBtn","$5e3f236f349b897e$var$_initialize","innerText","$5e3f236f349b897e$var$initialize","$f9899ad673fb99d1$var$checkbox","$f9899ad673fb99d1$var$Theme","$f9899ad673fb99d1$var$onCheckboxChange","body","toggle","contains","setAttribute","$4c219134a16cfd87$var$preloader","$4c219134a16cfd87$var$preloaderIsHided","$4c219134a16cfd87$var$preloaderDisable","display","onload","setTimeout","$6fd188024beef1c7$var$teamListModal","createElement","$6fd188024beef1c7$var$teamTitle","modalBackdrop","firstElementChild","insertAdjacentHTML","insertAdjacentElement","team","member","markup","img","name","role","social","modalTeamList","openModal"],"version":3,"file":"index.21a4cf29.js.map"}